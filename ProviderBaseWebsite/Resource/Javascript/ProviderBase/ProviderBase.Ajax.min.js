(function(n,t,i){var r={};n.AjaxRequest=function(u,f,e,o){var l={},s="",a=null,h,c;if(e!=null&&e.length>0)for(h=0;h<e.length;h++)l[e[h].ParameterName]=e[h].ParameterValue;s=ProviderBase.GetQueryValue("Command",u.split("?").pop());s!=i&&s.length>0&&r[s]&&(c=null,c=r[s],c!=i&&c.abort());a=t.ajax({method:"POST",url:u,data:l,dataType:"json",cache:!1,beforeSend:function(){o!=i&&ProviderBase.ShowLoading(o)}}).done(function(t){o!=i&&ProviderBase.HideLoading(o);f?f(t):n.AjaxResponse(t,o)}).fail(function(n){n.status>0&&alert(`Error: ${n.statusText}`)});r[s]=a};n.AjaxResponse=function(n,r,u){var f=t(`#${r}`);switch(n.Status){case-2:t("#ModalException").length>0&&n.Data.length>0?ProviderBase.ShowModalException(n.Data[0]):alert(n.Message);break;case-1:t("#ModalAlert").length>0?ProviderBase.ShowModalAlert(n.Message):alert(n.Message);break;case 0:f!=i&&f.html(n.Message);break;case 1:n.Data.length>0&&n.Data[0].length>0?(f.html(n.Data[0]),u!=i&&ProviderBase.SetupPaging(r,u)):f!=i&&f.html(n.Message);break;case 2:n.Redirect.length>0&&(location.href=n.Redirect)}};n.RequestData=function(n,t){this.ParameterName=n;this.ParameterValue=t};n.AjaxResult=function(){this.AjaxData=[];this.Data=[];this.Status=0;this.Message=""}})(window.ProviderBaseAjax=window.ProviderBaseAjax||{},jQuery);